<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PHONK SYSTEM PRO</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <style>
        /* FIX TR·ª∞C TI·∫æP CHO TV SAMSUNG */
        html, body {
            overflow-y: auto !important;
            height: auto !important;
            min-height: 100vh !important;
            background-color: #000;
            margin: 0;
            padding: 0;
            -ms-overflow-style: scrollbar !important; /* Hi·ªán thanh cu·ªôn g·ªëc c·ªßa TV */
        }

        .container {
            height: auto !important;
            max-height: none !important;
            overflow: visible !important; /* Kh√¥ng cho ph√©p container ch·∫∑n cu·ªôn */
            padding: 20px;
            display: block !important; /* ƒê·∫£m b·∫£o hi·ªÉn th·ªã d·∫°ng kh·ªëi ƒë·ªÉ k√©o d√†i trang */
        }

        /* Playlist ph·∫£i d√†i ra theo s·ªë l∆∞·ª£ng b√†i h√°t ƒë·ªÉ trang web c√≥ thanh cu·ªôn */
        .playlist-container {
            height: auto !important;
            max-height: none !important;
            overflow: visible !important;
            border: none !important; /* B·ªè vi·ªÅn k·∫πt khung */
        }

        /* T·∫°o kho·∫£ng c√°ch d∆∞·ªõi c√πng ƒë·ªÉ kh√¥ng b·ªã l·∫πm m√†n h√¨nh TV */
        .controls {
            margin-top: 30px;
            padding-bottom: 100px;
        }

        /* Hi·ªáu ·ª©ng focus cho Remote TV (n·∫øu b·∫°n d√πng n√∫t ƒëi·ªÅu h∆∞·ªõng) */
        .song-item:focus {
            background-color: rgba(255, 0, 0, 0.4) !important;
            outline: 2px solid red;
        }
    </style>
</head>
<body>
    <div id="intro-page">
        <div class="intro-content">
            <h1 class="glitch">‚ò£Ô∏è PHUCNGUYEN X PHONK ‚ò£Ô∏è</h1>
            <p>H∆†N 50 B√ÄI HAY NH·∫§T 2026 | V√Ä HO·∫†T ƒê·ªòNG 24/7</p>
            <button class="start-btn" onclick="startAppFixed()">V√ÄO H·ªÜ TH·ªêNG</button>
        </div>
    </div>

    <div class="container">
        <h2 class="neon-text">üéµPHONK MUSICüéµ</h2>
        
        <input type="text" id="searchInput" placeholder="T√¨m t√™n b√†i Phonk..." onkeyup="filterSongs()">

        <div id="customPlaylist" class="playlist-container">
            </div>

        <div class="controls">
            <button class="btn-main" onclick="handlePlay()" id="playBtn">PH√ÅT NH·∫†C</button>
            <button class="btn-loop" onclick="handleLoop()" id="loopBtn">L·∫∂P: T·∫ÆT</button>
        </div>

        <div id="status" style="color: #00ff00; padding: 10px;">S·∫µn s√†ng qu·∫©y...</div>
    </div>

    <audio id="mainAudio" playsinline></audio>
    <script src="script.js"></script>

    <script>
        // H√ÄM B·∫ÆT ƒê·∫¶U ƒê√É FIX CHO TV
        function startAppFixed() {
            // T·∫Øt trang intro
            document.getElementById('intro-page').style.display = 'none';
            
            // Ch·∫°y h√†m n·∫°p nh·∫°c g·ªëc c·ªßa b·∫°n (trong script.js)
            if (typeof startApp === "function") {
                startApp();
            }

            // √âP TV NH·∫¨N DI·ªÜN CHI·ªÄU CAO M·ªöI SAU KHI N·∫†P NH·∫†C
            setTimeout(function() {
                window.scrollTo(0, 0);
                document.body.style.overflowY = "auto";
                console.log("TV Scroll Initialized");
            }, 500);
        }

        // B·∫ÆT PH√çM REMOTE TV (UP/DOWN)
        window.addEventListener("keydown", function(e) {
            const scrollDistance = 250; // M·ªói l·∫ßn b·∫•m remote nh·∫£y 250px
            if (e.keyCode == 40) { // N√∫t Xu·ªëng
                window.scrollBy({ top: scrollDistance, behavior: 'smooth' });
            } else if (e.keyCode == 38) { // N√∫t L√™n
                window.scrollBy({ top: -scrollDistance, behavior: 'smooth' });
            }
        });

        // T·ª± ƒë·ªông g√°n l·∫°i n√∫t b·∫•m v√†o h·ªá th·ªëng
        document.querySelector('.start-btn').onclick = startAppFixed;
    </script>
</body>
</html>
