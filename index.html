<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PHONK SYSTEM PRO</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <style>
        html, body {
            overflow-y: auto !important; /* Lu√¥n cho ph√©p cu·ªôn d·ªçc */
            height: auto !important;    /* Kh√¥ng c·ªë ƒë·ªãnh chi·ªÅu cao ƒë·ªÉ TV nh·∫≠n di·ªán ƒë∆∞·ª£c n·ªôi dung d√†i */
            min-height: 100%;
            -ms-overflow-style: scrollbar; /* Hi·ªán thanh cu·ªôn cho tr√¨nh duy·ªát c≈© */
        }
        .container {
            padding-bottom: 50px; /* Tr√°nh b·ªã che m·∫•t ph·∫ßn cu·ªëi tr√™n m√†n h√¨nh TV */
        }
    </style>
</head>
<body>
    <div id="intro-page">
        <div class="intro-content">
            <h1 class="glitch">‚ò£Ô∏è PHUCNGUYEN X PHONK ‚ò£Ô∏è</h1>
            <p>H∆†N 50 B√ÄI HAY NH·∫§T 2026 | V√Ä HO·∫†T ƒê·ªòNG 24/7</p>
            <button class="start-btn" onclick="startApp()">V√ÄO H·ªÜ TH·ªêNG</button>
        </div>
    </div>

    <div class="container">
        <h2 class="neon-text">üéµPHONK MUSICüéµ</h2>
        
        <input type="text" id="searchInput" placeholder="T√¨m t√™n b√†i Phonk..." onkeyup="filterSongs()">

        <div id="customPlaylist" class="playlist-container">
            <div style="padding:20px; color:#555;">ƒêang n·∫°p danh s√°ch...</div>
        </div>

        <div class="controls">
            <button class="btn-main" onclick="handlePlay()" id="playBtn">PH√ÅT NH·∫†C</button>
            <button class="btn-loop" onclick="handleLoop()" id="loopBtn">L·∫∂P: T·∫ÆT</button>
        </div>

        <div id="status">S·∫µn s√†ng qu·∫©y...</div>
    </div>

    <audio id="mainAudio" playsinline></audio>
    <script src="script.js"></script>

    <script>
        window.addEventListener("keydown", function(e) {
            // M√£ ph√≠m 40 l√† n√∫t Xu·ªëng, 38 l√† n√∫t L√™n tr√™n Remote TV
            switch(e.keyCode) {
                case 40: // ArrowDown
                    window.scrollBy(0, 150); // Cu·ªôn xu·ªëng 150px m·ªói l·∫ßn b·∫•m
                    break;
                case 38: // ArrowUp
                    window.scrollBy(0, -150); // Cu·ªôn l√™n 150px m·ªói l·∫ßn b·∫•m
                    break;
                case 13: // Enter (N√∫t OK tr√™n Remote)
                    // H·ªó tr·ª£ TV nh·∫≠n di·ªán l·ªánh ch·ªçn nh·∫°c t·ªët h∆°n
                    break;
            }
        });

        // T·ª± ƒë·ªông ki·ªÉm tra n·∫øu Intro Page l√†m k·∫πt thanh cu·ªôn
        function startAppFixed() {
            if (typeof startApp === "function") {
                startApp(); 
                // Sau khi v√†o h·ªá th·ªëng, √©p tr√¨nh duy·ªát t√≠nh to√°n l·∫°i chi·ªÅu cao trang
                setTimeout(function() {
                    window.scrollTo(0, 0);
                    document.body.style.overflow = "auto";
                }, 500);
            }
        }
        // Ghi ƒë√® n√∫t b·∫•m ƒë·ªÉ d√πng h√†m fix
        document.querySelector('.start-btn').setAttribute('onclick', 'startAppFixed()');
    </script>
</body>
</html>
